import{k as N,c as o,v,a as g,r as m,j as e,L as w,B as k,e as x}from"./index-21f97ffd.js";import{N as y,F as C}from"./Footer-019fa04e.js";import{F as E}from"./index-73cbc05d.js";import"./Hotel Karan-722b24d5.js";const $=()=>{const h=N(),{user:u}=o(s=>s.auth),{cart:a}=o(s=>s.public),[j,{isSuccess:l}]=v(),n=g(),p=()=>{const s=a.map(t=>t._id);j({products:s,customer:u._id})},[c,b]=m.useState(a.reduce((s,t)=>(s[t.id]=1,s),{})),i=(s,t)=>{b(d=>{const r={...d,[s]:d[s]+t};return r[s]<1&&(r[s]=1),r})},f=a.reduce((s,t)=>s+t.price*c[t.id],0);return!a||a.length===0?e.jsxs("div",{className:"h-screen flex flex-col justify-center items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Cart is Empty"}),e.jsx(w,{to:"/",className:"btn btn-primary",children:"Go to Shop"})]}):(m.useEffect(()=>{l&&(k.success("order placed success"),n(x()),h("/success"))},[l]),e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsx("div",{className:"flex h-screen",children:e.jsx("div",{className:"container mx-auto my-20",children:e.jsx("div",{className:"card card-compact w-full px-28 bg-white shadow-lg rounded-lg overflow-hidden",children:e.jsxs("div",{className:"card-body p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"card-title text-2xl font-bold",children:"Shopping Cart"}),e.jsx("p",{className:"text-gray-500",children:"Delivering to 382480"})]}),e.jsx("button",{onClick:()=>n(x()),className:"btn btn-danger",children:"Empty Cart"})]}),e.jsxs("div",{className:"alert alert-success mb-6",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"You've got FREE delivery. Start checkout now!"})]}),a.map(s=>e.jsxs("div",{className:"flex flex-col md:flex-row items-center mb-6",children:[e.jsx("a",{href:"#",className:"flex-shrink-0 mb-3 md:mb-0",children:e.jsx("img",{className:"w-20 h-20 object-cover",src:`https://hotel-wers.onrender.com/${s.image}`,alt:s.name})}),e.jsxs("div",{className:"flex-grow md:ml-6",children:[e.jsx("h1",{className:"font-bold text-lg",children:s.name}),e.jsx("p",{className:"text-gray-500",children:s.desc}),e.jsxs("button",{className:"flex items-center text-red-500 mt-2",onClick:()=>{},children:[e.jsx(E,{className:"mr-1"})," Remove"]})]}),e.jsxs("div",{className:"flex items-center mt-4 md:mt-0",children:[e.jsx("button",{onClick:()=>i(s.id,-1),className:"btn btn-outline",children:"-"}),e.jsx("span",{className:"mx-2",children:c[s.id]}),e.jsx("button",{onClick:()=>i(s.id,1),className:"btn btn-outline",children:"+"})]}),e.jsxs("div",{className:"font-bold text-xl text-right mt-4 md:mt-0 md:ml-10",children:["$",s.price*c[s.id]]})]},s.id)),e.jsxs("div",{className:"flex justify-between items-center mt-10",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["Total: $",f.toFixed(2)]}),e.jsx("div",{children:e.jsx("button",{onClick:p,className:"btn btn-primary",children:"Buy Now"})})]})]})})})}),e.jsx(C,{})]}))};export{$ as default};
