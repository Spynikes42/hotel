import{c as f,f as h,g as x,h as g,i as c,k as j,r as t,B as d,j as e}from"./index-21f97ffd.js";const v=()=>{const{user:r}=f(a=>a.auth),[u,{data:b,isSuccess:n,isLoading:o,isError:l,error:m}]=h(),s=x({initialValues:{email:"",password:""},validationSchema:g({email:c().email().required("Enter email"),password:c().required("Enter password")}),onSubmit:(a,{resetForm:p})=>{u(a),p()}}),i=j();return t.useEffect(()=>{n&&(d.success("user login success"),r.role==="admin"?i("/admin"):r.role==="customer"&&i("/"))},[n]),t.useEffect(()=>{l&&d.error(m.message||"unable to login user")},[l]),t.useEffect(()=>{r&&(r.role==="admin"?i("/admin"):r.role==="customer"&&i("/cart"))},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-screen flex justify-center items-center",children:e.jsx("div",{className:"card card-compact w-96  shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"Login User"}),e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsx("input",{...s.getFieldProps("email"),type:"email",placeholder:"enter email",className:`input input-bordered w-full my-2 ${s.errors.email&&s.touched.email&&"input-error"}`}),e.jsx("input",{...s.getFieldProps("password"),type:"password",placeholder:"enter pass",className:`input input-bordered w-full my-2 ${s.errors.password&&s.touched.password&&"input-error"}`}),e.jsx("button",{disabled:o,type:"submit",className:"btn btn-primary",children:o?e.jsxs("div",{children:[e.jsx("div",{className:"loading loading-spinner"}),e.jsx("span",{children:"verifyin please wait"})]}):"login"})]})]})})})})};export{v as default};
